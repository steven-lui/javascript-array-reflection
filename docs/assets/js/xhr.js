function ajaxRequest(o,t,a={}){return new Promise(((e,n)=>{$.ajax({url:t,type:o,data:a,success:function(o){e(o)},error:function(o){n(o)}})}))}function applyDataToImg(o,t,a,e){$(t).attr("src",`https://picsum.photos/id/${o.id}/${a}/${e}`),$(t).text("alt",`Image by ${o.author}`)}let maxId=1082;const getRandomID=()=>Math.floor(Math.random()*maxId)+1;export function ajaxToImg(o,t,a,e){ajaxRequest("GET",`https://picsum.photos/id/${o}/info`).then((o=>{applyDataToImg(o,t,a,e)})).catch((o=>{console.log("Error:",o.responseText)}))}export async function randomImg(){let o,t=!1;for(let a=0;a<5;++a){console.log(`Attempt ${a+1} for randomImg()`);let e=Math.floor(Math.random()*maxId)+1;if(await ajaxRequest("GET",`https://picsum.photos/id/${e}/info`).then((a=>{o=a,console.log("Image found:",a.id),t=!0})).catch((o=>{console.log(`Error for ID#${e}: ${o.responseText}`)})),t){applyDataToImg(o,"#picsum-img",400,400);break}}t||($("#picsum-img").attr("src","./assets/img/not-found.jpg"),console.log("Too many attempts, please try again"))}