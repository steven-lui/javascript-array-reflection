"use strict";import{MailImg}from"./MailImg.js";import{ajaxToImg,randomImg}from"./xhr.js";let mailList=[];function displayTable(){let i=$("#mail-list .table-group-divider");i.empty(),mailList.forEach((a=>{let l=`<tr id="row-${a.mailTo}">`;$(l).prependTo(i);let m=`<td id="email-${a.mailTo}">${a.mailTo}</td>`;$(m).appendTo($(`#row-${a.mailTo}`));let t=`<td><ul id="images-${a.mailTo}"></ul></td>`;$(t).appendTo($(`#row-${a.mailTo}`)),a.idList.forEach((i=>{$(`<img id="image-${i}"></li>`).prependTo($(`#images-${a.mailTo}`)),ajaxToImg(i,`#image-${i}`,50,50)}))}))}function validateEmail(i){return!0}$((function(){randomImg()})),$("#add-email").on("click",(function(i){i.preventDefault();let a=$("#user-email").val();if(validateEmail(a)){let i=$("#picsum-img").attr("src");i=i.split("/")[4];let l=!1;for(let m=0;m<mailList.length;++m)if(mailList[m].mailTo===a){mailList[m].addId(i),l=!0;break}l||mailList.push(new MailImg(a,i)),displayTable(),randomImg()}}));