"use strict";import{MailImg}from"./MailImg.js";import{ajaxToImg}from"./xhr.js";let mailList=[];function displayTable(){let i=$("#mail-list .table-group-divider");i.empty(),mailList.forEach((a=>{let l=`<tr id="row-${a.mailTo}">`;$(l).prependTo(i);let t=`<td id="email-${a.mailTo}">${a.mailTo}</td>`;$(t).appendTo($(`#row-${a.mailTo}`));let m=`<td><ul id="images-${a.mailTo}"></ul></td>`;$(m).appendTo($(`#row-${a.mailTo}`)),a.idList.forEach((i=>{$(`<img id="image-${i}"></li>`).prependTo($(`#images-${a.mailTo}`)),ajaxToImg(i,`#image-${i}`,200,200)}))}))}function validateEmail(i){return!0}$((function(){ajaxToImg()})),$("#add-email").on("click",(function(i){i.preventDefault();let a=$("#user-email").val();if(validateEmail(a)){let i=$("#picsum-img").attr("src");i=i.split("/")[4];let l=!1;for(let t=0;t<mailList.length;++t)if(mailList[t].mailTo===a){mailList[t].addId(i),l=!0;break}l||mailList.push(new MailImg(a,i)),displayTable(),ajaxToImg()}}));